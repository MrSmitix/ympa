/**
 * Партнерский API Маркета
 * API Яндекс Маркета помогает продавцам автоматизировать и упростить работу с маркетплейсом.  В числе возможностей интеграции:  * управление каталогом товаров и витриной,  * обработка заказов,  * изменение настроек магазина,  * получение отчетов. 
 *
 * OpenAPI spec version: LATEST
 *
 * Contact: team@openapitools.org
 *
 * NOTE: This class is auto generated by OpenAPI Generator.
 *
 * https://openapi-generator.tech
 */

// this model was generated using model.mustache
package ympa_scala_cask_server.model
import ympa_scala_cask_server.model.CategoryParameterUnitDTO
import ympa_scala_cask_server.model.OfferCardRecommendationType
import ympa_scala_cask_server.model.ParameterType
import ympa_scala_cask_server.model.ParameterValueConstraintsDTO
import ympa_scala_cask_server.model.ParameterValueOptionDTO
import ympa_scala_cask_server.model.ValueRestrictionDTO
import scala.util.control.NonFatal

// see https://com-lihaoyi.github.io/upickle/
import upickle.default.{ReadWriter => RW, macroRW}
import upickle.default.*

case class CategoryParameterDTO(
/* Идентификатор характеристики. */
  id: Long,

  /* Название характеристики. */
  name: Option[String] = None ,

    `type`: ParameterType,

    unit: Option[CategoryParameterUnitDTO] = None ,

  /* Описание характеристики. */
  description: Option[String] = None ,

  /* Перечень возможных рекомендаций по заполнению карточки, к которым относится данная характеристика. */
  recommendationTypes: Seq[OfferCardRecommendationType] = Nil ,

  /* Обязательность характеристики. */
  required: Boolean,

  /* Используется ли характеристика в фильтре. */
  filtering: Boolean,

  /* Является ли характеристика особенностью варианта. */
  distinctive: Boolean,

  /* Можно ли передать сразу несколько значений. */
  multivalue: Boolean,

  /* Можно ли передавать собственное значение, которого нет в списке вариантов Маркета. Только для характеристик типа `ENUM`. */
  allowCustomValues: Boolean,

  /* Список допустимых значений параметра. Только для характеристик типа `ENUM`. */
  values: Seq[ParameterValueOptionDTO] = Nil ,

    constraints: Option[ParameterValueConstraintsDTO] = None ,

  /* Ограничения на значения, накладываемые другими характеристиками. Только для характеристик типа `ENUM`. */
  valueRestrictions: Seq[ValueRestrictionDTO] = Nil 

  ) {

  def asJson: String = asData.asJson

  def asData : CategoryParameterDTOData = {
    CategoryParameterDTOData(
            id = id,
            name = name.getOrElse(""),
            `type` = `type`,
            unit = unit.map(_.asData).getOrElse(null),
            description = description.getOrElse(""),
            recommendationTypes = recommendationTypes,
            required = required,
            filtering = filtering,
            distinctive = distinctive,
            multivalue = multivalue,
            allowCustomValues = allowCustomValues,
            values = values.map(_.asData),
            constraints = constraints.map(_.asData).getOrElse(null),
            valueRestrictions = valueRestrictions.map(_.asData)
    )
  }

}

object CategoryParameterDTO{

    given RW[CategoryParameterDTO] = CategoryParameterDTOData.readWriter.bimap[CategoryParameterDTO](_.asData, _.asModel)

    enum Fields(fieldName : String) extends Field(fieldName) {
            case id extends Fields("id")
            case name extends Fields("name")
            case `type` extends Fields("`type`")
            case unit extends Fields("unit")
            case description extends Fields("description")
            case recommendationTypes extends Fields("recommendationTypes")
            case required extends Fields("required")
            case filtering extends Fields("filtering")
            case distinctive extends Fields("distinctive")
            case multivalue extends Fields("multivalue")
            case allowCustomValues extends Fields("allowCustomValues")
            case values extends Fields("values")
            case constraints extends Fields("constraints")
            case valueRestrictions extends Fields("valueRestrictions")
    }


}

