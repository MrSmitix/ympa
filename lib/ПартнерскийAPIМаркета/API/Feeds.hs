{-
   Партнерский API Маркета

   API Яндекс Маркета помогает продавцам автоматизировать и упростить работу с маркетплейсом.  В числе возможностей интеграции:  * управление каталогом товаров и витриной,  * обработка заказов,  * изменение настроек магазина,  * получение отчетов. 

   OpenAPI Version: 3.0.3
   Партнерский API Маркета API version: LATEST
   Generated by OpenAPI Generator (https://openapi-generator.tech)
-}

{-|
Module : ПартнерскийAPIМаркета.API.Feeds
-}

{-# LANGUAGE FlexibleContexts #-}
{-# LANGUAGE FlexibleInstances #-}
{-# LANGUAGE MonoLocalBinds #-}
{-# LANGUAGE MultiParamTypeClasses #-}
{-# LANGUAGE OverloadedStrings #-}
{-# OPTIONS_GHC -fno-warn-name-shadowing -fno-warn-unused-binds -fno-warn-unused-imports #-}

module ПартнерскийAPIМаркета.API.Feeds where

import ПартнерскийAPIМаркета.Core
import ПартнерскийAPIМаркета.MimeTypes
import ПартнерскийAPIМаркета.Model as M

import qualified Data.Aeson as A
import qualified Data.ByteString as B
import qualified Data.ByteString.Lazy as BL
import qualified Data.Data as P (Typeable, TypeRep, typeOf, typeRep)
import qualified Data.Foldable as P
import qualified Data.Map as Map
import qualified Data.Maybe as P
import qualified Data.Proxy as P (Proxy(..))
import qualified Data.Set as Set
import qualified Data.String as P
import qualified Data.Text as T
import qualified Data.Text.Encoding as T
import qualified Data.Text.Lazy as TL
import qualified Data.Text.Lazy.Encoding as TL
import qualified Data.Time as TI
import qualified Network.HTTP.Client.MultipartFormData as NH
import qualified Network.HTTP.Media as ME
import qualified Network.HTTP.Types as NH
import qualified Web.FormUrlEncoded as WH
import qualified Web.HttpApiData as WH

import Data.Text (Text)
import GHC.Base ((<|>))

import Prelude ((==),(/=),($), (.),(<$>),(<*>),(>>=),Maybe(..),Bool(..),Char,Double,FilePath,Float,Int,Integer,String,fmap,undefined,mempty,maybe,pure,Monad,Applicative,Functor)
import qualified Prelude as P

-- * Operations


-- ** Feeds

-- *** getFeed

-- | @GET \/campaigns\/{campaignId}\/feeds\/{feedId}@
-- 
-- Информация о прайс-листе
-- 
-- {% note warning \"\" %}  Этот метод устарел. Не используйте его.  {% endnote %}  Возвращает информацию о прайс-листе, размещенном на Маркете для заданного магазина. Также ресурс возвращает результаты автоматических проверок прайс-листа. |**⚙️ Лимит:** 1000 запросов в час| |-| 
-- 
-- AuthMethod: 'AuthOAuthOAuth'
-- 
getFeed
  :: CampaignId -- ^ "campaignId" -  Идентификатор кампании в API и магазина в кабинете. Каждая кампания в API соответствует магазину в кабинете.  Чтобы узнать идентификаторы своих магазинов, воспользуйтесь запросом [GET campaigns](../../reference/campaigns/getCampaigns.md).  ℹ️ [Что такое кабинет и магазин на Маркете](https://yandex.ru/support/marketplace/account/introduction.html) 
  -> FeedId -- ^ "feedId" -  Идентификатор прайс-листа.
  -> ПартнерскийAPIМаркетаRequest GetFeed MimeNoContent GetFeedResponse MimeJSON
getFeed (CampaignId campaignId) (FeedId feedId) =
  _mkRequest "GET" ["/campaigns/",toPath campaignId,"/feeds/",toPath feedId]
    `_hasAuthType` (P.Proxy :: P.Proxy AuthOAuthOAuth)

{-# DEPRECATED getFeed "" #-}

data GetFeed  
-- | @application/json@
instance Produces GetFeed MimeJSON


-- *** getFeedIndexLogs

-- | @GET \/campaigns\/{campaignId}\/feeds\/{feedId}\/index-logs@
-- 
-- Отчет по индексации прайс-листа
-- 
-- {% note warning \"\" %}  Этот метод устарел. Не используйте его.  {% endnote %}  Возвращает отчет по индексации прайс-листа для заданного магазина. Отчет позволяет получить статистику загрузки прайс-листа и результаты его автоматических проверок.  Данные в отчете возвращаются в порядке убывания значений параметра `generationId`.  |**⚙️ Лимит:** 1 000 запросов в час| |-| 
-- 
-- AuthMethod: 'AuthOAuthOAuth'
-- 
getFeedIndexLogs
  :: CampaignId -- ^ "campaignId" -  Идентификатор кампании в API и магазина в кабинете. Каждая кампания в API соответствует магазину в кабинете.  Чтобы узнать идентификаторы своих магазинов, воспользуйтесь запросом [GET campaigns](../../reference/campaigns/getCampaigns.md).  ℹ️ [Что такое кабинет и магазин на Маркете](https://yandex.ru/support/marketplace/account/introduction.html) 
  -> FeedId -- ^ "feedId" -  Идентификатор прайс-листа.
  -> ПартнерскийAPIМаркетаRequest GetFeedIndexLogs MimeNoContent GetFeedIndexLogsResponse MimeJSON
getFeedIndexLogs (CampaignId campaignId) (FeedId feedId) =
  _mkRequest "GET" ["/campaigns/",toPath campaignId,"/feeds/",toPath feedId,"/index-logs"]
    `_hasAuthType` (P.Proxy :: P.Proxy AuthOAuthOAuth)

{-# DEPRECATED getFeedIndexLogs "" #-}

data GetFeedIndexLogs  

-- | /Optional Param/ "limit" - Количество значений на одной странице. 
instance HasOptionalParam GetFeedIndexLogs Limit where
  applyOptionalParam req (Limit xs) =
    req `addQuery` toQuery ("limit", Just xs)

-- | /Optional Param/ "published_time_from" - Начальная дата. Используется для фильтрации записей — по дате и времени публикации предложений на Яндекс Маркете.  Формат даты: ISO 8601 со смещением относительно UTC. Например, `2017-11-21T00:42:42+03:00`.  Значение по умолчанию: последние восемь дней со времени отправки запроса. 
instance HasOptionalParam GetFeedIndexLogs PublishedTimeFrom where
  applyOptionalParam req (PublishedTimeFrom xs) =
    req `addQuery` toQuery ("published_time_from", Just xs)

-- | /Optional Param/ "published_time_to" - Конечная дата. Используется для фильтрации записей — по дате и времени публикации предложений на Яндекс Маркете.  Формат даты: ISO 8601 со смещением относительно UTC. Например, `2017-11-31T00:42:42+03:00`.  Значение по умолчанию: дата и время отправки запроса.  {% note info %}  Если во время переключения между страницами выходных данных на Яндекс Маркете появятся новые результаты индексации прайс-листа, вы не получите часть данных. Чтобы этого не произошло, зафиксируйте выходные данные с помощью входного параметра `published_time_to`. Значение параметра не должно быть датой из будущего.  {% endnote %} 
instance HasOptionalParam GetFeedIndexLogs PublishedTimeTo where
  applyOptionalParam req (PublishedTimeTo xs) =
    req `addQuery` toQuery ("published_time_to", Just xs)

-- | /Optional Param/ "status" - Статус индексации и проверки прайс-листа на соответствие техническим требованиям.  Возможные значения: * `ERROR` — произошли ошибки. * `OK` — обработан без ошибок. * `WARNING` — наблюдались некритичные проблемы. 
instance HasOptionalParam GetFeedIndexLogs Status2 where
  applyOptionalParam req (Status2 xs) =
    req `addQuery` toQuery ("status", Just xs)
-- | @application/json@
instance Produces GetFeedIndexLogs MimeJSON


-- *** getFeeds

-- | @GET \/campaigns\/{campaignId}\/feeds@
-- 
-- Список прайс-листов магазина
-- 
-- {% note warning \"\" %}  Этот метод устарел. Не используйте его.  {% endnote %}  Возвращает список прайс-листов, размещенных на Маркете для магазина. Также ресурс возвращает результаты автоматических проверок прайс-листов. |**⚙️ Лимит:** 1000 запросов в час| |-| 
-- 
-- AuthMethod: 'AuthOAuthOAuth'
-- 
getFeeds
  :: CampaignId -- ^ "campaignId" -  Идентификатор кампании в API и магазина в кабинете. Каждая кампания в API соответствует магазину в кабинете.  Чтобы узнать идентификаторы своих магазинов, воспользуйтесь запросом [GET campaigns](../../reference/campaigns/getCampaigns.md).  ℹ️ [Что такое кабинет и магазин на Маркете](https://yandex.ru/support/marketplace/account/introduction.html) 
  -> ПартнерскийAPIМаркетаRequest GetFeeds MimeNoContent GetFeedsResponse MimeJSON
getFeeds (CampaignId campaignId) =
  _mkRequest "GET" ["/campaigns/",toPath campaignId,"/feeds"]
    `_hasAuthType` (P.Proxy :: P.Proxy AuthOAuthOAuth)

{-# DEPRECATED getFeeds "" #-}

data GetFeeds  
-- | @application/json@
instance Produces GetFeeds MimeJSON


-- *** refreshFeed

-- | @POST \/campaigns\/{campaignId}\/feeds\/{feedId}\/refresh@
-- 
-- Сообщить, что прайс-лист обновился
-- 
-- {% note warning \"\" %}  Этот метод устарел. Не используйте его.  {% endnote %}  Позволяет сообщить, что магазин обновил прайс-лист. После этого Маркет начнет обновление данных на сервисе. 1. Магазин обновляет прайс-лист, ссылку на который он указал в кабинете. 2. Магазин отправляет Маркету запрос методом `POST campaigns/{campaignId}/feeds/{feedId}/refresh`. 3. Маркет начинает обновление данных магазина на сервисе.  {% note alert %}  Запрос работает только для включенных магазинов. Если магазин выключен, данные на Маркете не обновятся, даже если HTTP-код — `200 OK`. Проверить статус магазина можно с помощью базовых запросов или на странице бизнес-аккаунта.  {% endnote %}  |**⚙️ Лимит:** 3 запроса в час для одного прайс-листа| |-| 
-- 
-- AuthMethod: 'AuthOAuthOAuth'
-- 
refreshFeed
  :: CampaignId -- ^ "campaignId" -  Идентификатор кампании в API и магазина в кабинете. Каждая кампания в API соответствует магазину в кабинете.  Чтобы узнать идентификаторы своих магазинов, воспользуйтесь запросом [GET campaigns](../../reference/campaigns/getCampaigns.md).  ℹ️ [Что такое кабинет и магазин на Маркете](https://yandex.ru/support/marketplace/account/introduction.html) 
  -> FeedId -- ^ "feedId" -  Идентификатор прайс-листа.
  -> ПартнерскийAPIМаркетаRequest RefreshFeed MimeNoContent EmptyApiResponse MimeJSON
refreshFeed (CampaignId campaignId) (FeedId feedId) =
  _mkRequest "POST" ["/campaigns/",toPath campaignId,"/feeds/",toPath feedId,"/refresh"]
    `_hasAuthType` (P.Proxy :: P.Proxy AuthOAuthOAuth)

{-# DEPRECATED refreshFeed "" #-}

data RefreshFeed  
-- | @application/json@
instance Produces RefreshFeed MimeJSON


-- *** setFeedParams

-- | @POST \/campaigns\/{campaignId}\/feeds\/{feedId}\/params@
-- 
-- Изменение параметров прайс-листа
-- 
-- {% note warning \"\" %}  Этот метод устарел. Не используйте его.  {% endnote %}  Позволяет магазину изменить параметры прайс-листа.  Чтобы отредактировать параметр прайс-листа, передайте в теле запроса: `name` (название параметра) и `value` (значение параметра).  Чтобы отменить установленное значение, передайте в теле запроса: `name` (название параметра) и `delete=true` (удалить значение).  |**⚙️ Лимит:** 3 запроса в час для одного прайс-листа| |-| 
-- 
-- AuthMethod: 'AuthOAuthOAuth'
-- 
setFeedParams
  :: (Consumes SetFeedParams MimeJSON, MimeRender MimeJSON SetFeedParamsRequest)
  => SetFeedParamsRequest -- ^ "setFeedParamsRequest"
  -> CampaignId -- ^ "campaignId" -  Идентификатор кампании в API и магазина в кабинете. Каждая кампания в API соответствует магазину в кабинете.  Чтобы узнать идентификаторы своих магазинов, воспользуйтесь запросом [GET campaigns](../../reference/campaigns/getCampaigns.md).  ℹ️ [Что такое кабинет и магазин на Маркете](https://yandex.ru/support/marketplace/account/introduction.html) 
  -> FeedId -- ^ "feedId" -  Идентификатор прайс-листа.
  -> ПартнерскийAPIМаркетаRequest SetFeedParams MimeJSON EmptyApiResponse MimeJSON
setFeedParams setFeedParamsRequest (CampaignId campaignId) (FeedId feedId) =
  _mkRequest "POST" ["/campaigns/",toPath campaignId,"/feeds/",toPath feedId,"/params"]
    `_hasAuthType` (P.Proxy :: P.Proxy AuthOAuthOAuth)
    `setBodyParam` setFeedParamsRequest

{-# DEPRECATED setFeedParams "" #-}

data SetFeedParams 
instance HasBodyParam SetFeedParams SetFeedParamsRequest 

-- | @application/json@
instance Consumes SetFeedParams MimeJSON

-- | @application/json@
instance Produces SetFeedParams MimeJSON

