/**
* Партнерский API Маркета
* API Яндекс Маркета помогает продавцам автоматизировать и упростить работу с маркетплейсом.  В числе возможностей интеграции:  * управление каталогом товаров и витриной,  * обработка заказов,  * изменение настроек магазина,  * получение отчетов. 
*
* The version of the OpenAPI document: LATEST
* 
*
* NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
* https://openapi-generator.tech
* Do not edit the class manually.
*/
package ympa_kotlin_server.apis

import com.google.gson.Gson
import io.ktor.http.*
import io.ktor.server.application.*
import io.ktor.server.auth.*
import io.ktor.server.response.*
import ympa_kotlin_server.Paths
import io.ktor.server.resources.options
import io.ktor.server.resources.get
import io.ktor.server.resources.post
import io.ktor.server.resources.put
import io.ktor.server.resources.delete
import io.ktor.server.resources.head
import io.ktor.server.resources.patch
import io.ktor.server.routing.*
import ympa_kotlin_server.infrastructure.ApiPrincipal
import ympa_kotlin_server.models.AddOffersToArchiveRequest
import ympa_kotlin_server.models.AddOffersToArchiveResponse
import ympa_kotlin_server.models.ApiClientDataErrorResponse
import ympa_kotlin_server.models.ApiForbiddenErrorResponse
import ympa_kotlin_server.models.ApiLimitErrorResponse
import ympa_kotlin_server.models.ApiLockedErrorResponse
import ympa_kotlin_server.models.ApiNotFoundErrorResponse
import ympa_kotlin_server.models.ApiServerErrorResponse
import ympa_kotlin_server.models.ApiUnauthorizedErrorResponse
import ympa_kotlin_server.models.DeleteOffersFromArchiveRequest
import ympa_kotlin_server.models.DeleteOffersFromArchiveResponse
import ympa_kotlin_server.models.DeleteOffersRequest
import ympa_kotlin_server.models.DeleteOffersResponse
import ympa_kotlin_server.models.GetOfferMappingsRequest
import ympa_kotlin_server.models.GetOfferMappingsResponse
import ympa_kotlin_server.models.GetSuggestedOfferMappingsRequest
import ympa_kotlin_server.models.GetSuggestedOfferMappingsResponse
import ympa_kotlin_server.models.UpdateOfferMappingsRequest
import ympa_kotlin_server.models.UpdateOfferMappingsResponse

fun Route.BusinessOfferMappingsApi() {
    val gson = Gson()
    val empty = mutableMapOf<String, Any?>()

    authenticate("OAuth") {
    post<Paths.addOffersToArchive> {
        
        val principal = call.authentication.principal<OAuthAccessTokenResponse>()!!
        
        
        val exampleContentType = "application/json"
            val exampleContentString = """{
              "result" : {
                "notArchivedOffers" : [ {
                  "offerId" : "offerId",
                  "error" : "OFFER_HAS_STOCKS"
                }, {
                  "offerId" : "offerId",
                  "error" : "OFFER_HAS_STOCKS"
                } ]
              },
              "status" : "OK"
            }"""
            
            when (exampleContentType) {
                "application/json" -> call.respond(gson.fromJson(exampleContentString, empty::class.java))
                "application/xml" -> call.respondText(exampleContentString, ContentType.Text.Xml)
                else -> call.respondText(exampleContentString)
            }
        
    }
    }

    authenticate("OAuth") {
    post<Paths.deleteOffers> {
        
        val principal = call.authentication.principal<OAuthAccessTokenResponse>()!!
        
        
        val exampleContentType = "application/json"
            val exampleContentString = """{
              "result" : {
                "notDeletedOfferIds" : [ null, null ]
              },
              "status" : "OK"
            }"""
            
            when (exampleContentType) {
                "application/json" -> call.respond(gson.fromJson(exampleContentString, empty::class.java))
                "application/xml" -> call.respondText(exampleContentString, ContentType.Text.Xml)
                else -> call.respondText(exampleContentString)
            }
        
    }
    }

    authenticate("OAuth") {
    post<Paths.deleteOffersFromArchive> {
        
        val principal = call.authentication.principal<OAuthAccessTokenResponse>()!!
        
        
        val exampleContentType = "application/json"
            val exampleContentString = """{
              "result" : {
                "notUnarchivedOfferIds" : [ null, null ]
              },
              "status" : "OK"
            }"""
            
            when (exampleContentType) {
                "application/json" -> call.respond(gson.fromJson(exampleContentString, empty::class.java))
                "application/xml" -> call.respondText(exampleContentString, ContentType.Text.Xml)
                else -> call.respondText(exampleContentString)
            }
        
    }
    }

    authenticate("OAuth") {
    post<Paths.getOfferMappings> {
        
        val principal = call.authentication.principal<OAuthAccessTokenResponse>()!!
        
        
        val exampleContentType = "application/json"
            val exampleContentString = """{
              "result" : {
                "paging" : {
                  "prevPageToken" : "prevPageToken",
                  "nextPageToken" : "nextPageToken"
                },
                "offerMappings" : [ {
                  "offer" : {
                    "downloadable" : true,
                    "sellingPrograms" : [ {
                      "sellingProgram" : "FBY",
                      "status" : "FINE"
                    }, {
                      "sellingProgram" : "FBY",
                      "status" : "FINE"
                    } ],
                    "marketCategoryId" : 0,
                    "manufacturerCountries" : [ "Россия", "Россия" ],
                    "description" : "description",
                    "videos" : [ "videos", "videos", "videos", "videos", "videos" ],
                    "purchasePrice" : {
                      "value" : 0.7061401241503109,
                      "updatedAt" : "2000-01-23T04:56:07.000+00:00"
                    },
                    "type" : "DEFAULT",
                    "pictures" : [ "pictures", "pictures" ],
                    "vendorCode" : "VNDR-0005A",
                    "archived" : true,
                    "campaigns" : [ {
                      "campaignId" : 9,
                      "status" : "PUBLISHED"
                    }, {
                      "campaignId" : 9,
                      "status" : "PUBLISHED"
                    } ],
                    "vendor" : "LEVENHUK",
                    "basicPrice" : {
                      "discountBase" : 0.23021358869347652,
                      "currencyId" : "RUR",
                      "value" : 0.5637376656633328,
                      "updatedAt" : "2000-01-23T04:56:07.000+00:00"
                    },
                    "lifeTime" : {
                      "timePeriod" : 6,
                      "comment" : "comment",
                      "timeUnit" : "HOUR"
                    },
                    "shelfLife" : {
                      "timePeriod" : 6,
                      "comment" : "comment",
                      "timeUnit" : "HOUR"
                    },
                    "cofinancePrice" : {
                      "value" : 0.7061401241503109,
                      "updatedAt" : "2000-01-23T04:56:07.000+00:00"
                    },
                    "cardStatus" : "HAS_CARD_CAN_NOT_UPDATE",
                    "barcodes" : [ "46012300000000", "46012300000000" ],
                    "params" : [ {
                      "name" : "Wi-Fi",
                      "value" : "есть"
                    }, {
                      "name" : "Wi-Fi",
                      "value" : "есть"
                    } ],
                    "tags" : [ "до 500 рублей", "до 500 рублей" ],
                    "condition" : {
                      "reason" : "reason",
                      "type" : "PREOWNED",
                      "quality" : "PERFECT"
                    },
                    "certificates" : [ "certificates", "certificates" ],
                    "boxCount" : 1,
                    "additionalExpenses" : {
                      "value" : 0.7061401241503109,
                      "updatedAt" : "2000-01-23T04:56:07.000+00:00"
                    },
                    "name" : "Ударная дрель Makita HP1630, 710 Вт",
                    "offerId" : "offerId",
                    "guaranteePeriod" : {
                      "timePeriod" : 6,
                      "comment" : "comment",
                      "timeUnit" : "HOUR"
                    },
                    "weightDimensions" : {
                      "length" : 65.55,
                      "width" : 50.7,
                      "weight" : 1.001,
                      "height" : 20
                    },
                    "category" : "category",
                    "customsCommodityCode" : "8517610008",
                    "adult" : true,
                    "age" : {
                      "ageUnit" : "YEAR",
                      "value" : 0.5962133916683182
                    },
                    "manuals" : [ {
                      "title" : "title",
                      "url" : "url"
                    }, {
                      "title" : "title",
                      "url" : "url"
                    }, {
                      "title" : "title",
                      "url" : "url"
                    }, {
                      "title" : "title",
                      "url" : "url"
                    }, {
                      "title" : "title",
                      "url" : "url"
                    } ]
                  },
                  "mapping" : {
                    "marketSkuName" : "marketSkuName",
                    "marketCategoryName" : "marketCategoryName",
                    "marketCategoryId" : 4,
                    "marketSku" : 3,
                    "marketModelId" : 2,
                    "marketModelName" : "marketModelName"
                  }
                }, {
                  "offer" : {
                    "downloadable" : true,
                    "sellingPrograms" : [ {
                      "sellingProgram" : "FBY",
                      "status" : "FINE"
                    }, {
                      "sellingProgram" : "FBY",
                      "status" : "FINE"
                    } ],
                    "marketCategoryId" : 0,
                    "manufacturerCountries" : [ "Россия", "Россия" ],
                    "description" : "description",
                    "videos" : [ "videos", "videos", "videos", "videos", "videos" ],
                    "purchasePrice" : {
                      "value" : 0.7061401241503109,
                      "updatedAt" : "2000-01-23T04:56:07.000+00:00"
                    },
                    "type" : "DEFAULT",
                    "pictures" : [ "pictures", "pictures" ],
                    "vendorCode" : "VNDR-0005A",
                    "archived" : true,
                    "campaigns" : [ {
                      "campaignId" : 9,
                      "status" : "PUBLISHED"
                    }, {
                      "campaignId" : 9,
                      "status" : "PUBLISHED"
                    } ],
                    "vendor" : "LEVENHUK",
                    "basicPrice" : {
                      "discountBase" : 0.23021358869347652,
                      "currencyId" : "RUR",
                      "value" : 0.5637376656633328,
                      "updatedAt" : "2000-01-23T04:56:07.000+00:00"
                    },
                    "lifeTime" : {
                      "timePeriod" : 6,
                      "comment" : "comment",
                      "timeUnit" : "HOUR"
                    },
                    "shelfLife" : {
                      "timePeriod" : 6,
                      "comment" : "comment",
                      "timeUnit" : "HOUR"
                    },
                    "cofinancePrice" : {
                      "value" : 0.7061401241503109,
                      "updatedAt" : "2000-01-23T04:56:07.000+00:00"
                    },
                    "cardStatus" : "HAS_CARD_CAN_NOT_UPDATE",
                    "barcodes" : [ "46012300000000", "46012300000000" ],
                    "params" : [ {
                      "name" : "Wi-Fi",
                      "value" : "есть"
                    }, {
                      "name" : "Wi-Fi",
                      "value" : "есть"
                    } ],
                    "tags" : [ "до 500 рублей", "до 500 рублей" ],
                    "condition" : {
                      "reason" : "reason",
                      "type" : "PREOWNED",
                      "quality" : "PERFECT"
                    },
                    "certificates" : [ "certificates", "certificates" ],
                    "boxCount" : 1,
                    "additionalExpenses" : {
                      "value" : 0.7061401241503109,
                      "updatedAt" : "2000-01-23T04:56:07.000+00:00"
                    },
                    "name" : "Ударная дрель Makita HP1630, 710 Вт",
                    "offerId" : "offerId",
                    "guaranteePeriod" : {
                      "timePeriod" : 6,
                      "comment" : "comment",
                      "timeUnit" : "HOUR"
                    },
                    "weightDimensions" : {
                      "length" : 65.55,
                      "width" : 50.7,
                      "weight" : 1.001,
                      "height" : 20
                    },
                    "category" : "category",
                    "customsCommodityCode" : "8517610008",
                    "adult" : true,
                    "age" : {
                      "ageUnit" : "YEAR",
                      "value" : 0.5962133916683182
                    },
                    "manuals" : [ {
                      "title" : "title",
                      "url" : "url"
                    }, {
                      "title" : "title",
                      "url" : "url"
                    }, {
                      "title" : "title",
                      "url" : "url"
                    }, {
                      "title" : "title",
                      "url" : "url"
                    }, {
                      "title" : "title",
                      "url" : "url"
                    } ]
                  },
                  "mapping" : {
                    "marketSkuName" : "marketSkuName",
                    "marketCategoryName" : "marketCategoryName",
                    "marketCategoryId" : 4,
                    "marketSku" : 3,
                    "marketModelId" : 2,
                    "marketModelName" : "marketModelName"
                  }
                } ]
              },
              "status" : "OK"
            }"""
            
            when (exampleContentType) {
                "application/json" -> call.respond(gson.fromJson(exampleContentString, empty::class.java))
                "application/xml" -> call.respondText(exampleContentString, ContentType.Text.Xml)
                else -> call.respondText(exampleContentString)
            }
        
    }
    }

    authenticate("OAuth") {
    post<Paths.getSuggestedOfferMappings> {
        
        val principal = call.authentication.principal<OAuthAccessTokenResponse>()!!
        
        
        val exampleContentType = "application/json"
            val exampleContentString = """{
              "result" : {
                "offers" : [ {
                  "offer" : {
                    "vendor" : "LEVENHUK",
                    "basicPrice" : {
                      "value" : 0.9301444243932576
                    },
                    "name" : "Ударная дрель Makita HP1630, 710 Вт",
                    "offerId" : "offerId",
                    "description" : "description",
                    "category" : "category",
                    "barcodes" : [ "46012300000000", "46012300000000" ],
                    "vendorCode" : "VNDR-0005A"
                  },
                  "mapping" : {
                    "marketSkuName" : "marketSkuName",
                    "marketCategoryName" : "marketCategoryName",
                    "marketCategoryId" : 4,
                    "marketSku" : 3,
                    "marketModelId" : 2,
                    "marketModelName" : "marketModelName"
                  }
                }, {
                  "offer" : {
                    "vendor" : "LEVENHUK",
                    "basicPrice" : {
                      "value" : 0.9301444243932576
                    },
                    "name" : "Ударная дрель Makita HP1630, 710 Вт",
                    "offerId" : "offerId",
                    "description" : "description",
                    "category" : "category",
                    "barcodes" : [ "46012300000000", "46012300000000" ],
                    "vendorCode" : "VNDR-0005A"
                  },
                  "mapping" : {
                    "marketSkuName" : "marketSkuName",
                    "marketCategoryName" : "marketCategoryName",
                    "marketCategoryId" : 4,
                    "marketSku" : 3,
                    "marketModelId" : 2,
                    "marketModelName" : "marketModelName"
                  }
                } ]
              },
              "status" : "OK"
            }"""
            
            when (exampleContentType) {
                "application/json" -> call.respond(gson.fromJson(exampleContentString, empty::class.java))
                "application/xml" -> call.respondText(exampleContentString, ContentType.Text.Xml)
                else -> call.respondText(exampleContentString)
            }
        
    }
    }

    authenticate("OAuth") {
    post<Paths.updateOfferMappings> {
        
        val principal = call.authentication.principal<OAuthAccessTokenResponse>()!!
        
        
        val exampleContentType = "application/json"
            val exampleContentString = """{
              "results" : [ {
                "warnings" : [ {
                  "parameterId" : 0,
                  "type" : "UNKNOWN_CATEGORY",
                  "message" : "message"
                }, {
                  "parameterId" : 0,
                  "type" : "UNKNOWN_CATEGORY",
                  "message" : "message"
                } ],
                "offerId" : "offerId",
                "errors" : [ {
                  "parameterId" : 0,
                  "type" : "UNKNOWN_CATEGORY",
                  "message" : "message"
                }, {
                  "parameterId" : 0,
                  "type" : "UNKNOWN_CATEGORY",
                  "message" : "message"
                } ]
              }, {
                "warnings" : [ {
                  "parameterId" : 0,
                  "type" : "UNKNOWN_CATEGORY",
                  "message" : "message"
                }, {
                  "parameterId" : 0,
                  "type" : "UNKNOWN_CATEGORY",
                  "message" : "message"
                } ],
                "offerId" : "offerId",
                "errors" : [ {
                  "parameterId" : 0,
                  "type" : "UNKNOWN_CATEGORY",
                  "message" : "message"
                }, {
                  "parameterId" : 0,
                  "type" : "UNKNOWN_CATEGORY",
                  "message" : "message"
                } ]
              } ],
              "status" : "OK"
            }"""
            
            when (exampleContentType) {
                "application/json" -> call.respond(gson.fromJson(exampleContentString, empty::class.java))
                "application/xml" -> call.respondText(exampleContentString, ContentType.Text.Xml)
                else -> call.respondText(exampleContentString)
            }
        
    }
    }

}
