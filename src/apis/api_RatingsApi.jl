# This file was generated by the Julia OpenAPI Code Generator
# Do not modify this file directly. Modify the OpenAPI specification instead.

struct RatingsApi <: OpenAPI.APIClientImpl
    client::OpenAPI.Clients.Client
end

"""
The default API base path for APIs in `RatingsApi`.
This can be used to construct the `OpenAPI.Clients.Client` instance.
"""
basepath(::Type{ RatingsApi }) = "https://api.partner.market.yandex.ru"

const _returntypes_get_quality_rating_details_RatingsApi = Dict{Regex,Type}(
    Regex("^" * replace("200", "x"=>".") * "\$") => GetQualityRatingDetailsResponse,
    Regex("^" * replace("400", "x"=>".") * "\$") => ApiClientDataErrorResponse,
    Regex("^" * replace("401", "x"=>".") * "\$") => ApiUnauthorizedErrorResponse,
    Regex("^" * replace("403", "x"=>".") * "\$") => ApiForbiddenErrorResponse,
    Regex("^" * replace("404", "x"=>".") * "\$") => ApiNotFoundErrorResponse,
    Regex("^" * replace("420", "x"=>".") * "\$") => ApiLimitErrorResponse,
    Regex("^" * replace("500", "x"=>".") * "\$") => ApiServerErrorResponse,
)

function _oacinternal_get_quality_rating_details(_api::RatingsApi, campaign_id::Int64; _mediaType=nothing)
    _ctx = OpenAPI.Clients.Ctx(_api.client, "POST", _returntypes_get_quality_rating_details_RatingsApi, "/campaigns/{campaignId}/ratings/quality/details", ["OAuth", ])
    OpenAPI.Clients.set_param(_ctx.path, "campaignId", campaign_id)  # type Int64
    OpenAPI.Clients.set_header_accept(_ctx, ["application/json", ])
    OpenAPI.Clients.set_header_content_type(_ctx, (_mediaType === nothing) ? [] : [_mediaType])
    return _ctx
end

@doc raw"""Заказы, которые повлияли на индекс качества

Возвращает список заказов, которые повлияли на индекс качества магазина. Чтобы узнать значение индекса качества, выполните запрос [POST businesses/{businessId}/ratings/quality](../../reference/ratings/getQualityRatings.md).  |**⚙️ Лимит:** 100000 запросов в час| |-| 

Params:
- campaign_id::Int64 (required)

Return: GetQualityRatingDetailsResponse, OpenAPI.Clients.ApiResponse
"""
function get_quality_rating_details(_api::RatingsApi, campaign_id::Int64; _mediaType=nothing)
    _ctx = _oacinternal_get_quality_rating_details(_api, campaign_id; _mediaType=_mediaType)
    return OpenAPI.Clients.exec(_ctx)
end

function get_quality_rating_details(_api::RatingsApi, response_stream::Channel, campaign_id::Int64; _mediaType=nothing)
    _ctx = _oacinternal_get_quality_rating_details(_api, campaign_id; _mediaType=_mediaType)
    return OpenAPI.Clients.exec(_ctx, response_stream)
end

const _returntypes_get_quality_ratings_RatingsApi = Dict{Regex,Type}(
    Regex("^" * replace("200", "x"=>".") * "\$") => GetQualityRatingResponse,
    Regex("^" * replace("400", "x"=>".") * "\$") => ApiClientDataErrorResponse,
    Regex("^" * replace("401", "x"=>".") * "\$") => ApiUnauthorizedErrorResponse,
    Regex("^" * replace("403", "x"=>".") * "\$") => ApiForbiddenErrorResponse,
    Regex("^" * replace("404", "x"=>".") * "\$") => ApiNotFoundErrorResponse,
    Regex("^" * replace("420", "x"=>".") * "\$") => ApiLimitErrorResponse,
    Regex("^" * replace("500", "x"=>".") * "\$") => ApiServerErrorResponse,
)

function _oacinternal_get_quality_ratings(_api::RatingsApi, business_id::Int64, get_quality_rating_request::GetQualityRatingRequest; _mediaType=nothing)
    _ctx = OpenAPI.Clients.Ctx(_api.client, "POST", _returntypes_get_quality_ratings_RatingsApi, "/businesses/{businessId}/ratings/quality", ["OAuth", ], get_quality_rating_request)
    OpenAPI.Clients.set_param(_ctx.path, "businessId", business_id)  # type Int64
    OpenAPI.Clients.set_header_accept(_ctx, ["application/json", ])
    OpenAPI.Clients.set_header_content_type(_ctx, (_mediaType === nothing) ? ["application/json", ] : [_mediaType])
    return _ctx
end

@doc raw"""Индекс качества магазинов

Возвращает значение индекса качества магазинов и его составляющие.  Подробнее об индексе качества читайте [в Справке Маркета для продавцов](https://yandex.ru/support2/marketplace/ru/quality/score/).  |**⚙️ Лимит:** 10000 запросов в час| |-| 

Params:
- business_id::Int64 (required)
- get_quality_rating_request::GetQualityRatingRequest (required)

Return: GetQualityRatingResponse, OpenAPI.Clients.ApiResponse
"""
function get_quality_ratings(_api::RatingsApi, business_id::Int64, get_quality_rating_request::GetQualityRatingRequest; _mediaType=nothing)
    _ctx = _oacinternal_get_quality_ratings(_api, business_id, get_quality_rating_request; _mediaType=_mediaType)
    return OpenAPI.Clients.exec(_ctx)
end

function get_quality_ratings(_api::RatingsApi, response_stream::Channel, business_id::Int64, get_quality_rating_request::GetQualityRatingRequest; _mediaType=nothing)
    _ctx = _oacinternal_get_quality_ratings(_api, business_id, get_quality_rating_request; _mediaType=_mediaType)
    return OpenAPI.Clients.exec(_ctx, response_stream)
end

export get_quality_rating_details
export get_quality_ratings
