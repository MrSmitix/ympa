{-
   Партнерский API Маркета
   API Яндекс Маркета помогает продавцам автоматизировать и упростить работу с маркетплейсом.  В числе возможностей интеграции:  * управление каталогом товаров и витриной,  * обработка заказов,  * изменение настроек магазина,  * получение отчетов. 

   The version of the OpenAPI document: LATEST

   NOTE: This file is auto generated by the openapi-generator.
   https://github.com/openapitools/openapi-generator.git

   DO NOT EDIT THIS FILE MANUALLY.

   For more info on generating Elm code, see https://eriktim.github.io/openapi-elm/
-}


module Api.Request.Prices exposing
    ( getPrices
    , getPricesByOfferIds
    , getSuggestedPrices
    , updateBusinessPrices
    , updatePrices
    )

import Api
import Api.Data exposing (..)
import Dict
import Http
import Json.Decode
import Json.Encode

{-| {% note warning \"\" %}  Этот метод устарел. Вместо него используйте [POST campaigns/{campaignId}/offer-prices](../../reference/assortment/getPricesByOfferIds.md).  {% endnote %}  Возвращает список цен, установленных вами на товары любым способом: например, через партнерский API или в файле с каталогом.  {% note info %}  Общее количество товаров считается по данным за последние семь дней (не включая сегодня) и не может быть выше 2 миллионов.  {% endnote %}  Способы установки цен описаны [в Справке Маркета для продавцов](https://yandex.ru/support/marketplace/assortment/operations/prices.html).  |**⚙️ Лимит:** ```(количество товаров партнера на витрине) * 25``` товаров в сутки| |-| 
-}
getPrices : Int -> Maybe String -> Maybe Int -> Maybe Bool -> Api.Request Api.Data.GetPricesResponse
getPrices campaignId_path pageToken_query limit_query archived_query =
    Api.request
        "GET"
        "/campaigns/{campaignId}/offer-prices"
        [ ( "campaignId", String.fromInt campaignId_path ) ]
        [ ( "page_token", Maybe.map identity pageToken_query ), ( "limit", Maybe.map String.fromInt limit_query ), ( "archived", Maybe.map (\val -> if val then "true" else "false") archived_query ) ]
        []
        Nothing
        Api.Data.getPricesResponseDecoder


{-| Возвращает список цен на указанные товары в магазине.  {% note warning \"Метод только для отдельных магазинов\" %}  Используйте этот метод, только если в кабинете установлены уникальные цены в отдельных магазинах.  Для просмотра базовых цен используйте [POST businesses/{businessId}/offer-mappings](../../reference/business-assortment/getOfferMappings.md).  {% endnote %}  |**⚙️ Лимит:** рассчитывается по [формуле](*rule)| |-|  [//]: <> (rule: суточный лимит товаров — количество товаров на витрине * 25) 
-}
getPricesByOfferIds : Int -> Maybe String -> Maybe Int -> Maybe Api.Data.GetPricesByOfferIdsRequest -> Api.Request Api.Data.GetPricesByOfferIdsResponse
getPricesByOfferIds campaignId_path pageToken_query limit_query getPricesByOfferIdsRequest_body =
    Api.request
        "POST"
        "/campaigns/{campaignId}/offer-prices"
        [ ( "campaignId", String.fromInt campaignId_path ) ]
        [ ( "page_token", Maybe.map identity pageToken_query ), ( "limit", Maybe.map String.fromInt limit_query ) ]
        []
        (Maybe.map Http.jsonBody (Maybe.map Api.Data.encodeGetPricesByOfferIdsRequest getPricesByOfferIdsRequest_body))
        Api.Data.getPricesByOfferIdsResponseDecoder


{-| {% note warning \"\" %}  Этот метод устарел. Вместо него используйте [отчет «Цены на рынке»](../../reference/reports/generatePricesReport.md).  {% endnote %}  {% note warning \"\" %}  Этот метод подходит только тем магазинам, которые устанавливают цены на товары в рублях.  {% endnote %}  Возвращает цены для продвижения товаров, которые вы размещаете на Маркете.  Товары, для которых нужно получить цены, передаются в теле POST-запроса.  Цены для продвижения зависят от цен, установленных на товары другими партнерами. Если один товар поставляют несколько партнеров, на Маркете сначала продается товар с более низкой ценой. Когда закончится товар по низкой цене, начнет продаваться товар по более высокой цене.  Выходные данные содержат для каждого товара несколько цен, соответствующих разным типам продвижения.  Установить цены на товары можно с помощью запроса [POST campaigns/{campaignId}/offer-prices/updates](../../reference/assortment/updatePrices.md) или другими способами: например, указать их в файле с каталогом. Также вы можете использовать стратегии для автоматической установки рекомендованных цен или минимальных цен на Маркете.  Подробно об автоматическом управлении ценами рассказано [в Справке Маркета для продавцов](https://yandex.ru/support/marketplace/marketing/prices.html).  |**⚙️ Лимит:** 100 000 товаров в час| |-| 
-}
getSuggestedPrices : Int -> Api.Data.SuggestPricesRequest -> Api.Request Api.Data.SuggestPricesResponse
getSuggestedPrices campaignId_path suggestPricesRequest_body =
    Api.request
        "POST"
        "/campaigns/{campaignId}/offer-prices/suggestions"
        [ ( "campaignId", String.fromInt campaignId_path ) ]
        []
        []
        (Maybe.map Http.jsonBody (Just (Api.Data.encodeSuggestPricesRequest suggestPricesRequest_body)))
        Api.Data.suggestPricesResponseDecoder


{-| Устанавливает [базовые цены](*default-price). Чтобы получить рекомендации Маркета, касающиеся цен, выполните запрос [POST businesses/{businessId}/offers/recommendations](../../reference/business-assortment/getOfferRecommendations.md).  {% note info \"Данные в каталоге обновляются не мгновенно\" %}  Это занимает до нескольких минут.  {% endnote %}  |**⚙️ Лимит:** 5000 товаров в минуту, не более 500 товаров в одном запросе| |-| 
-}
updateBusinessPrices : Int -> Api.Data.UpdateBusinessPricesRequest -> Api.Request Api.Data.EmptyApiResponse
updateBusinessPrices businessId_path updateBusinessPricesRequest_body =
    Api.request
        "POST"
        "/businesses/{businessId}/offer-prices/updates"
        [ ( "businessId", String.fromInt businessId_path ) ]
        []
        []
        (Maybe.map Http.jsonBody (Just (Api.Data.encodeUpdateBusinessPricesRequest updateBusinessPricesRequest_body)))
        Api.Data.emptyApiResponseDecoder


{-| Устанавливает цены на товары в магазине. Чтобы получить рекомендации Маркета, касающиеся цен, выполните запрос [POST businesses/{businessId}/offers/recommendations](../../reference/business-assortment/getOfferRecommendations.md).  {% note warning \"Метод только для отдельных магазинов\" %}  Используйте этот метод, только если в кабинете установлены уникальные цены в отдельных магазинах.  Для управления базовыми ценами используйте [POST businesses/{businessId}/offer-prices/updates](../../reference/business-assortment/updateBusinessPrices.md).  {% endnote %}  {% note info \"Данные в каталоге обновляются не мгновенно\" %}  Это занимает до нескольких минут.  {% endnote %}  |**⚙️ Лимит:** 5000 товаров в минуту| |-| 
-}
updatePrices : Int -> Api.Data.UpdatePricesRequest -> Api.Request Api.Data.EmptyApiResponse
updatePrices campaignId_path updatePricesRequest_body =
    Api.request
        "POST"
        "/campaigns/{campaignId}/offer-prices/updates"
        [ ( "campaignId", String.fromInt campaignId_path ) ]
        []
        []
        (Maybe.map Http.jsonBody (Just (Api.Data.encodeUpdatePricesRequest updatePricesRequest_body)))
        Api.Data.emptyApiResponseDecoder

